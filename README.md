# ğŸš€ Medusa 2 + Remix E-Commerce Platform

Full-stack e-commerce monorepo: **Medusa v2** (headless commerce) + **Remix** (React Router v7) storefront.

**Features:** Product reviews, collections, categories, Stripe payments, Docker-based development.

---

## âš¡ Quick Start

### Prerequisites

- **Node.js 20+** ([Download](https://nodejs.org/))
- **Docker Desktop** ([Download](https://www.docker.com/products/docker-desktop/)) - Must be running

### Setup (2 Steps)

```bash
# 1. Install dependencies
yarn install

# 2. Initialize everything (Docker + Database + Config)
yarn setup
```

**âš ï¸ WARNING:** `yarn setup` will **DELETE all existing data** and start fresh!

That's it! The script automatically:
- âœ… Starts Docker containers (PostgreSQL + Redis)
- âœ… Runs database migrations and seeds data
- âœ… Creates admin user
- âœ… Extracts publishable key from database
- âœ… Configures storefront .env automatically

```bash
# 3. Start development
yarn dev
```

### Access

- **Storefront:** http://localhost:3000
- **Admin:** http://localhost:9000/app (admin@medusa-test.com / supersecret)
- **API:** http://localhost:9000

---

## ğŸ“ Project Structure

```
apps/
â”œâ”€â”€ medusa/          # Backend API + Admin (Port 9000)
â””â”€â”€ storefront/      # Remix Frontend (Port 3000)
```

**Tech:** Medusa v2 + Remix + PostgreSQL + Redis + Stripe + Tailwind CSS

---

## ğŸ“ Common Commands

```bash
# Development
yarn dev                      # Start both apps
yarn dev --filter=medusa      # Backend only
yarn dev --filter=storefront  # Frontend only

# Reset & Reinitialize
yarn setup                    # Reset database & auto-configure

# Code Quality
yarn format                   # Format code
yarn typecheck               # Type check
yarn build                   # Build all
```

---

## ğŸ”§ Configuration

All configuration is handled automatically by `yarn setup`!

### Backend (`apps/medusa/.env`)
```bash
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/hacktson-autobots
REDIS_URL=redis://localhost:6379
STRIPE_API_KEY=sk_test_xxxxx  # Optional - for payments
```

### Storefront (`apps/storefront/.env`)
Auto-generated by `yarn setup`:
```bash
MEDUSA_PUBLISHABLE_KEY='pk_xxxxx'  # Auto-filled from database
PUBLIC_MEDUSA_API_URL='http://localhost:9000'
STOREFRONT_URL='http://localhost:3000'
```

---

## ğŸ› Troubleshooting

### Docker not connecting?
```bash
docker ps  # Check containers are running
cd apps/medusa && docker compose up -d && sleep 10
```

### Storefront shows 502 error?
```bash
# Re-run initialization to fix configuration
yarn setup
```

### Need fresh start?
```bash
# Stop Docker and delete all data
cd apps/medusa && docker compose down -v && cd ../..
# Reinitialize everything
yarn setup
```

### Port already in use?
```bash
lsof -ti:9000 | xargs kill -9  # Kill port 9000
lsof -ti:3000 | xargs kill -9  # Kill port 3000
```

---

## ğŸ“š Documentation

- [Medusa Docs](https://docs.medusajs.com/)
- [Remix Docs](https://remix.run/docs)
- [Steering Files](.kiro/steering/) - AI guidance for development patterns

---

## ğŸ“„ License

MIT
